<div class="card h-100 fade-up course-card">
    <img src="@Thumbnail" class="card-img-top course-thumb" alt="@Title" />

    <div class="card-body d-flex flex-column">

        <h6 class="fw-bold text-dark mb-1">@Title</h6>

        @if (!string.IsNullOrWhiteSpace(Category))
        {
            <span class="badge bg-light text-purple mb-2">@Category</span>
        }

        @if (ShowProgress)
        {
            <div class="progress mb-2" style="height: 6px;">
                <div class="progress-bar bg-purple"
                     role="progressbar"
                     style="width:@Progress%"></div>
            </div>

            <small class="text-muted mb-2">@Progress% â€¢ @TimeLeft</small>
        }

        <div class="mt-auto">

            @if (ShowPrimaryAction)
            {
                <button class="btn btn-purple w-100 mb-2"
                        @onclick="OnPrimary">
                    <i class="bi bi-play-circle me-1"></i>
                    @PrimaryText
                </button>
            }

            @if (ShowSecondaryAction)
            {
                <button class="btn btn-outline-danger w-100"
                        @onclick="OnSecondary">
                    <i class="bi bi-trash me-1"></i>
                    @SecondaryText
                </button>
            }

        </div>

    </div>
</div>

@code {
    [Parameter] public string Title { get; set; } = "";
    [Parameter] public string Thumbnail { get; set; } = "";
    [Parameter] public string Category { get; set; } = "";

    [Parameter] public bool ShowProgress { get; set; }
    [Parameter] public int Progress { get; set; }
    [Parameter] public string TimeLeft { get; set; } = "";

    // Primary Action (Add / Start Learning)
    [Parameter] public bool ShowPrimaryAction { get; set; }
    [Parameter] public string PrimaryText { get; set; } = "";
    [Parameter] public EventCallback OnPrimary { get; set; }

    // Secondary Action (Remove)
    [Parameter] public bool ShowSecondaryAction { get; set; }
    [Parameter] public string SecondaryText { get; set; } = "";
    [Parameter] public EventCallback OnSecondary { get; set; }
}
